# 列表(list)综述
---
## 一、基本知识
- 列表（list）是由一系列按特定顺序排列的元素组成的有序集合，通常用中括号[]包裹元素，元素使用逗号分隔。

- 列表支持加入不同数据类型的元素：数字、字符串、列表、元组等。

- 列表是可变的数据类型，可以随时添加、查找和删除元素。

- 列表通过有序的索引可遍历所有的元素，从前往后数，索引是[0,n-1]，从后往前数，索引是[-1, -n]，其中n是列表的长度。

- 列表可以是不含元素的空列表，也可以包含超级多的元素（在内存大小支持的情况下）。
```
list_a = []   # 空列表，即len(list_a) == 0

list_b = [2018, 10, '2018-10-1', ['hi', 1, 2], (33, 44)]   
len(list_b) == 5    # list_b 长度为5，包含2个数字元素、1个字符串元素、1个列表元素和1个元组元素
list_b[0]   #其值等于list_b[-5] 为2018
list_b[3]   #其值等于list_b[-2] 为['hi', 1, 2]
list_b[4]   #其值等于list_b[-1] 为(33, 44)
```

## 二、应用特点(含代码演示及相应的说明)
**1.创建列表：**
- 用中括号[]包裹元素，元素使用逗号分隔。
- 用list()方法，转化生成列表（结合range()等函数）。
```
list_a = [1, 2, 3]
list_b = list("abc")   # list_b == ['a', 'b', 'c']
list_c = list((4, 5, 6))   # list_c == [4, 5, 6]
list_d = [i for i in list_a]    # list_d == [1, 2, 3]
list_e = [i*j for i in list_a for j in list_c]   # list_e == [4,5,6,10,12,12,15,18]
list_f = [i*j for i,j in zip(list_a,list_c)]   # list_f == [4, 10, 18]
list_g = [i for i in list_a if i%2 == 0]   # list_g == [2]

# 结合range()函数，range(start, stop[, step])
list_h = list(range(3))   # list_h == [0, 1, 2]
list_i = list(range(3,7))   # list_i == [3, 4, 5, 6]
list_j = list(range(3,9,2))   # list_j == [3, 5, 7]
list_k = list(range(3,100,3))   # list_k == [3, 6, 9, ..., 96, 99]  #找出100以内的能够被3整除的正整数
```

**2.扩充列表：**
- 用append()方法，在列表尾部添加单个新元素。
- 用insert()方法，在列表中指定位置添加元素。
- 用 “+” 运算符，将两个列表拼接出一个新列表。
- 用extend()方法，在一个列表后面拼接进另一个列表。
```
# 以下分别用append()、insert()函数添加2个元素
list_a = []
list_a.append('happy')   # list_a == ['happy']
list_a.insert(0, 'very')   # list_a == ['very', 'happy']
list_a

# 以下分别用“+”运算符及extend()方法扩充列表
list_1 = ['I', 'am']
list_2 = ['very', 'happy']
list_3 = list_1 + list_2   #新列表 list_3 == ['I', 'am', 'very', 'happy']
list_1.extend(list_2)   #原列表1扩充，list_1 == ['I', 'am', 'very', 'happy']
```

**3.删减与销毁列表：** 
- 用del list[m] 语句，删除指定索引m处的元素。
- 用remove()方法，删除指定值的元素（第一个匹配项）。
- 用pop()方法，取出并删除列表末尾的单个元素。
- 用pop(m)方法，取出并删除索引值为m的元素。
- 用clear()方法，清空列表的元素。（杯子还在，水倒空了）
- 用del list 语句，销毁整个列表。（杯子和水都没有了）
```
# 以下5种删除列表元素方式
list_1 = list_2 = list_3 = list_4 = ['I', 'am', 'very', 'happy']
del list_1[0]        # list_1 == ['am', 'very', 'happy']
list_2.remove('I')   # list_2 == ['am', 'very', 'happy']
list_3.pop()         # list_3 == ['I', 'am', 'very']
list_4.pop(0)        # list_4 == ['am', 'very', 'happy']

list_a = [1, 2, 3]
list_b = [1, 2, 3]
list_b.clear()       # 清空列表，list_b == []
del list_a           # 销毁列表，没有list_a这个列表了，再使用则会报错 

```

**4.列表切片：** 
- 基本含义：从第i位索引起，向右取到后n位元素为止，按m间隔过滤
- 基本格式：[i : i+n : m] ；i 是切片的起始索引值，为列表首位时可省略；i+n 是切片的结束位置，为列表末位时可省略；m 可以不提供，默认值是1，不允许为0，当m为负数时，列表翻转。注意：这些值都可以大于列表长度，不会报越界。
```
# 以下写法都可以表示整个列表，其中 X >= len(li)
# li[0:X] == li[0:] == li[:X] == li[:] == li[::] == li[-X:X] == li[-X:]
li = [1, 4, 5, 6, 7, 9, 11, 14, 16]  # 定义一个列表

li[1:5]     # 从1起，取5-1位元素，结果为[4,5,6,7]
li[1:5:2]   # 从1起，取5-1位元素，按2间隔过滤结果为[4,6]
li[-1:]     # 取倒数第一个元素，结果为[16]
li[-4:-2]   # 从倒数第四起，取-2-(-4)=2位元素，结果为[9, 11] 
li[:-2]     # 从头开始，取-2-(-len(li))=7位元素，结果为[1,4,5,6,7,9,11]
li[-len(li):-2]  # 结果同上，也为[1,4,5,6,7,9,11]

# 以下写法注意列表先翻转，再截取
li[::-1]    # 翻转整个列表，结果为 [16,14,11,9,7,6,5,4,1]  
li[::-2]    # 结果为[16,11,7,5,1]
li[:-5:-1]  # 翻转整个列表，取-5-(-len(li))=4位元素，结果为[16,14,11,9]
li[:-5:-3]  # 翻转整个列表，取-5-(-len(li))=4位元素，再按3间隔过滤，结果为[16,9]
li[::0]     # 报错（ValueError: slice step cannot be zero）
```

**5.列表中其他操作：** 
- 用len()方法，统计全部元素的个数。
- 用count()方法，统计指定值的元素的个数。
- 用max()方法，统计元素中的最大值（要求元素类型相同；数字类型直接比较，其它类型比较id）
- 用min()方法，统计元素中的最小值（要求元素类型相同；数字类型直接比较，其它类型比较id）
- 用index()方法，查找指定值的元素的索引位置（第一个匹配项）。
- 用reverse()方法，翻转列表中的元素。
- 用copy()方法，浅拷贝并生成新的列表。
- 用deepcopy()方法，深拷贝并生成新的列表。
- 用sort()方法，在原列表基础上进行排序。
- 用sorted()方法，将新列表基础上对原列表的元素进行排序。
```
# 其他方法的举例
list_1 = [2018, 10, '2018-10-1', ['hi', 1, 2], (33, 44)]
len(list_1) == 5
list_1.count(10) == 1 # 元素10的数量为1
list_1.index(10) == 1 # 元素10的索引为1
list_1.reverse() # list_1 == [(33, 44), ['hi', 1, 2], '2018-10-1', 10, 2018]

# 比较浅拷贝与深拷贝
import copy
list_a = [2018, 10, '2018-10-1', ['hi', 1, 2], (33, 44)]
list_b = ['hi', 1, 2]
list_c = list_a.copy()         # list_c结果为[2018, 10, '2018-10-1', ['hi', 1, 2], (33, 44)]
list_d = copy.deepcopy(list_a) # list_d结果为[2018, 10, '2018-10-1', ['hi', 1, 2], (33, 44)]

# 改变原列表中的可变对象元素
list_a[3].append('new')        # list_a结果为[2018, 10, '2018-10-1', ['hi', 1, 2, 'new'], (33, 44)]

# 在上述操作进行后，发现浅拷贝中的可变对象会随原列表变化而变化
list_c  # 此时list_c结果为[2018, 10, '2018-10-1', ['hi', 1, 2, 'new'], (33, 44)]

# 而深拷贝中的可变对象不会随原列表变化而变化
list_d  # 此时list_d结果为[2018, 10, '2018-10-1', ['hi', 1, 2], (33, 44)]

# 比较sort() 与 sorted()
list_1 = [2,1,4,6,5,3]
list_1.sort()            # 原列表变化：list_1结果为[1,2,3,4,5,6]
list_2 = [2,1,4,6,5,3]
list_3 = sorted(list_2)  # 原列表不变：list_2依然为[2,1,4,6,5,3]; list_3变为[1,2,3,4,5,6]
```

## 三、列表及数组的异同点
- **相同点：**

二者都可以用于处理多维数组。Numpy中的ndarray对象用于处理多维数组，它作为一个快速而灵活的大数据容器。Python列表可以存储一维数组，通过列表的嵌套可以实现多维数组。

- **不同点：**

python中的list是python的内置数据类型，list中的数据类型不必相同，而数组是Numpy库中所定义的，所以使用数组前，必须下载安装Numpy库，array中的类型必须全部相同。

在list中数据类型保存的是数据存放地址，简单的说就是指针，并非数据，这样保存一个list就太麻烦了，例如list1=[1,2,3,'a']需要4个指针和四个数据，增加了存储和消耗cpu。Numpy中封装的array有很强大的功能，里面存放的都是相同的数据类型。

通常，Numpy库数组中的所有元素的类型都必须相同的，而Python列表中的元素类型是任意的，所以在通用性能方面Numpy数组不及Python列表，但在科学计算中，可以省掉很多循环语句，代码使用方面比Python列表简单的多。

存储效率和输入输出性能不同。Numpy专门针对数组的操作和运算进行了设计，存储效率和输入输出性能远优于Python中的嵌套列表，数组越大，Numpy的优势就越明显。

## 四、补充：
**1.数组的创建：** 

- 安装numpy库(pip或者conda)
- 导入numpy库（通过import关键字导入）：import numpy as np
- 创建数组的几种方式：
Numpy 用于处理数组，Numpy中的数组对象称为ndarray，我们使用array()函数创建一个Numpy的ndarray对象，我们可以将列表、元组或者任何类似数组的对象传递给array()方法，array方法会将它们转换为ndarray。
```
#创建数组
import numpy as np
# 使用列表创建numpy数组，列表转数组
a =np.array( [[1,2,3],[4,5,6]] )
print(a) 
```
**2.数组中的维**

数组中的维是数组深度（嵌套数组）的一个级别，嵌套数组是将数组作为元素的数组，即数组中有数组。
- **0-D维数组** 

0维数组，也称作标量，是指数组中只有一个元素，数组的值只有一个
```
#0维数组
a= 61
arr = np.array(a)
print(a)         # 结果为61
print(type(arr)) # 结果为<class 'numpy.ndarray'>
print(arr.shape) # 结果为()
```

- **1-D维数组** 

一维数组，是指元素为0-D数组的数组，也就是由多个元素值构成的数组
```
#1维数组
a = [61,62,63]
arr = np.array (a)
print(arr)         # 结果为[61 62 63]
print(arr.shape)   # 结果为(3,)
```
- **2-D维数组**

二维数组，它的元素为一维数组，它是一维数组的数组，通常用于表示矩阵或者二阶张量，在Numpy库中又一个专门用于矩阵运算的完整子模块，numpy.mat。
```
#2维数组
arr = np.array([[1, 2, 3], [4, 5, 6]]) # 列表转数组，数组的第一维度元素以最外层列表元素以行分隔
print(arr)    # 结果为[[1 2 3] 
              #       [4 5 6]]
```
- **3-D维数组**

三维数组，它的元素为二维数组，它是二维数组的数组。
```
#3维数组
arr = np.array([[[1, 2, 3], [4, 5, 6]], [[7, 8, 9], [10, 11, 12]]])# 用两个二维数组，创建一个三维数组
print(arr)     #结果为 [[[ 1 2 3]
               #      [ 4 5 6]] 
               #      [[ 7  8  9]
               #      [10 11 12]]]
```
- **查询数组维数**

NumPy 数组提供了 ndim 属性，该属性返回一个整数，该整数会告诉我们数组有多少维，检查数组有多少维：
```
#查询数组维数
a = np.array(42)
b = np.array([1, 2, 3, 4, 5])
c = np.array([[1, 2, 3], [4, 5, 6]])
d = np.array([[[1, 2, 3], [4, 5, 6]], [[1, 2, 3], [4, 5, 6]]])
print(a.ndim)   #结果为 0
print(b.ndim)   #结果为 1
print(c.ndim)   #结果为 2
print(d.ndim)   #结果为 3
```
- **创建更高维的数组**

数组可以拥有任意数量的维，在创建数组时，可以使用ndmin参数定义维数。
```
# 创建一个有5个维度的数组，并验证它拥有5个维度：
arr = np.array([1, 2, 3, 4], ndmin = 5)
print(arr)                                  # [[[[[1 2 3 4]]]]]
print('number of dimensions :', arr.ndim)   # number of dimensions : 5      
```
